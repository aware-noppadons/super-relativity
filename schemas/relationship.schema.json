{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://super-relativity.example.com/schemas/relationship.json",
  "title": "Super Relativity Relationship",
  "description": "Schema for relationships between entities in Super Relativity knowledge graph",
  "type": "object",
  "required": ["from", "to", "type"],
  "properties": {
    "from": {
      "type": "string",
      "pattern": "^[A-Z]+-[0-9]+$",
      "description": "Source entity ID",
      "examples": ["APP-123", "REQ-001", "CAP-042"]
    },
    "to": {
      "type": "string",
      "pattern": "^[A-Z]+-[0-9]+$",
      "description": "Target entity ID",
      "examples": ["APP-456", "DATA-789", "SRV-001"]
    },
    "type": {
      "type": "string",
      "enum": [
        "IMPLEMENTED_BY",
        "CONTAINS",
        "USES",
        "DEPLOYED_ON",
        "STORED_IN",
        "SUPPORTS",
        "HAS_COMPONENT",
        "MODIFIES",
        "READS",
        "CREATES",
        "UPDATES",
        "HAS_CHILD_CAPABILITY",
        "IMPACTS",
        "ENABLES",
        "ENHANCES",
        "MIGRATES",
        "INSTALLED_ON",
        "PART_OF",
        "PROVIDES",
        "CONSUMES",
        "DEPENDS_ON",
        "CALLS",
        "CONNECTED_TO",
        "RELATED_TO"
      ],
      "description": "Relationship type"
    },
    "confidence": {
      "type": "number",
      "minimum": 0.0,
      "maximum": 1.0,
      "description": "Confidence score for inferred relationships",
      "default": 1.0
    },
    "source": {
      "type": "string",
      "description": "Source of this relationship",
      "examples": ["leanix", "code_analysis", "diagram_conversion", "manual"]
    },
    "createdAt": {
      "type": "string",
      "format": "date-time",
      "description": "Relationship creation timestamp"
    },
    "metadata": {
      "type": "object",
      "description": "Additional relationship metadata",
      "additionalProperties": true
    }
  },
  "additionalProperties": false
}
